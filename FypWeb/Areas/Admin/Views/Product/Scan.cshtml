@model IEnumerable<ProductDetail>


<div class="relative overflow-hidden bg-white border sm:rounded-lg">
    <div class="flex flex-col px-4 py-3 space-y-3 lg:flex-row lg:items-center lg:justify-between lg:space-y-0 lg:space-x-4">
        <div class="flex items-center flex-1 space-x-4">
            <h5>
                <span class="text-black">All Products:</span>
                <span class="text-gray-500">11232</span>
            </h5>

        </div>
        <div class="flex flex-col flex-shrink-0 space-y-3 md:flex-row md:items-center lg:justify-end md:space-y-0 md:space-x-3">

            <button type="button" id="scanTagsBtn" class="flex items-center justify-center  flex-shrink-0 px-3 py-2 text-sm font-medium text-white border rounded-lg bg-[#4ADE80] ">
                <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                </svg>
                Refresh
            </button>

        </div>
    </div>
    <div class="overflow-x-auto">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
            <thead class="text-xs text-black uppercase bg-gray-100 ">
                <tr>
                    <th scope="col" class="p-4">

                    </th>
                    <th scope="col" class="px-4 py-3">Product</th>
                    <th scope="col" class="px-4 py-3">Category</th>
                    <th scope="col" class="px-4 py-3">Stock</th>


                    <th scope="col" class="px-4 py-3">Price</th>


                    <th scope="col" class="px-4 py-3">Sales</th>

                    <th scope="col" class="px-4 py-3">Operations</th>
                </tr>
            </thead>
            <tbody>

                <tr class="border-b border-gray-600  ">
                    <td class="w-4 px-4 py-3">
                    </td>
                    <th scope="row">
                        <a class="flex items-center px-4 py-2 font-medium  whitespace-nowrap ">
                            <img src="" alt="" class="w-auto h-8 mr-3">

                        </a>

                    </th>
                    <td class="px-4 py-2">
                        <span class="bg-primary-100 text-primary-800 text-xs font-medium px-2 py-0.5 rounded dark:bg-primary-900 dark:text-primary-300">Desktop PC</span>
                    </td>
                    <td class="px-4 py-2 font-medium  whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="inline-block w-4 h-4 mr-2 bg-red-700 border rounded-full"></div>
                            95
                        </div>
                    </td>
                    <td class="px-4 py-2 font-medium  whitespace-nowrap ">Rs. 1999 </td>




                    <td class="px-4 py-2">$3.2M</td>
                    <td class="px-4 py-2 font-medium whitespace-nowrap ">
                        <a>
                            Edit
                        </a>
                        &nbsp;

                        <a>Delete</a>
                    </td>
                </tr>


            </tbody>
        </table>
    </div>
</div>
@section Scripts {
    <script>
        $(document).ready(function () {
            $("#scanTagsBtn").click(function () {
                $.ajax({
                    url: '@Url.Action("refreshProductList", "Product")',
                    type: 'GET',
                    success: function (data) {
                        var tableBody = $("#yourTableId tbody"); // Replace with your actual table's ID
                        tableBody.empty(); // Clear existing rows

                        if (data.Products) {
                            data.Products.forEach(function (product) {
                                // Create a row for each product
                                var row = '<tr>' +
                                    '<td>' + // Your product data here
                                    '</td><td>' + product.Name +
                                    '</td><td>' + product.Category +
                                    '</td><td>' + product.Stock +
                                    '</td><td>' + product.Price +
                                    '</td><td>' + product.Sales +
                                    '</td><td>' + // Operations buttons or links
                                    '</td></tr>';

                                tableBody.append(row); // Append the row to the table body
                            });
                        } else if (data.ErrorMessage) {
                            alert('Error: ' + data.ErrorMessage);
                        }
                    },
                    error: function (xhr, status, error) {
                        console.error("AJAX error:", error);
                    }
                });
            });
        });
    </script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
